<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì•„ì´ì½˜ ìƒì„±ê¸° - Fact Check Extension</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        background: #f5f5f5;
      }
      h1 {
        color: #333;
        text-align: center;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      .instructions {
        background: #e3f2fd;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
        border-left: 4px solid #2196f3;
      }
      .icon-preview {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin: 30px 0;
        flex-wrap: wrap;
      }
      .icon-item {
        text-align: center;
      }
      canvas {
        border: 2px solid #ddd;
        border-radius: 8px;
        display: block;
        margin: 10px auto;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        font-size: 16px;
        cursor: pointer;
        display: block;
        margin: 10px auto;
        font-weight: 600;
        transition: transform 0.2s;
      }
      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }
      .download-all {
        background: #4caf50;
        margin-top: 30px;
      }
      p {
        color: #666;
        line-height: 1.6;
      }
      .note {
        background: #fff3cd;
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
        border-left: 4px solid #ffc107;
        color: #856404;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ” Fact Check ì•„ì´ì½˜ ìƒì„±ê¸°</h1>

      <div class="instructions">
        <h3>ğŸ“‹ ì‚¬ìš© ë°©ë²•</h3>
        <ol>
          <li><strong>"ëª¨ë“  ì•„ì´ì½˜ ìƒì„±" ë²„íŠ¼</strong>ì„ í´ë¦­í•©ë‹ˆë‹¤.</li>
          <li>
            ê° ì•„ì´ì½˜ ì•„ë˜ì˜ <strong>"ë‹¤ìš´ë¡œë“œ"</strong> ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬
            ì €ì¥í•©ë‹ˆë‹¤.
          </li>
          <li>
            ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ì„ í”„ë¡œì íŠ¸ì˜ <code>icons/</code> í´ë”ì— ë³µì‚¬í•©ë‹ˆë‹¤.
          </li>
          <li>
            íŒŒì¼ëª…ì„ ì •í™•íˆ ë§ì¶¥ë‹ˆë‹¤: <code>icon16.png</code>,
            <code>icon32.png</code>, <code>icon48.png</code>,
            <code>icon128.png</code>
          </li>
        </ol>
      </div>

      <button class="download-all" onclick="generateAllIcons()">
        ğŸ¨ ëª¨ë“  ì•„ì´ì½˜ ìƒì„±
      </button>

      <div class="icon-preview" id="iconPreview"></div>

      <div class="note">
        <strong>âš ï¸ ì°¸ê³ :</strong> ì´ê²ƒì€ í…ŒìŠ¤íŠ¸ìš© ì„ì‹œ ì•„ì´ì½˜ì…ë‹ˆë‹¤. ì‹¤ì œ ë°°í¬
        ì‹œì—ëŠ” ì „ë¬¸ì ì¸ ë””ìì¸ ë„êµ¬(Figma, Canva ë“±)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë” ë‚˜ì€ í’ˆì§ˆì˜
        ì•„ì´ì½˜ì„ ë§Œë“œëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.
      </div>
    </div>

    <script>
      const SIZES = [16, 32, 48, 128];

      const generateAllIcons = () => {
        const previewContainer = document.getElementById("iconPreview");
        previewContainer.innerHTML = "";

        SIZES.forEach((size) => {
          const iconItem = createIconItem(size);
          previewContainer.appendChild(iconItem);
        });
      };

      const createIconItem = (size) => {
        const container = document.createElement("div");
        container.className = "icon-item";

        const label = document.createElement("p");
        label.textContent = `${size}x${size}px`;
        label.style.fontWeight = "600";
        label.style.marginBottom = "10px";

        const canvas = createIconCanvas(size);

        const downloadBtn = document.createElement("button");
        downloadBtn.textContent = "ë‹¤ìš´ë¡œë“œ";
        downloadBtn.onclick = () => downloadIcon(canvas, size);

        container.appendChild(label);
        container.appendChild(canvas);
        container.appendChild(downloadBtn);

        return container;
      };

      const createIconCanvas = (size) => {
        const canvas = document.createElement("canvas");
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext("2d");

        // ê·¸ë¼ë°ì´ì…˜ ë°°ê²½
        const gradient = ctx.createLinearGradient(0, 0, size, size);
        gradient.addColorStop(0, "#667eea");
        gradient.addColorStop(1, "#764ba2");
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, size, size);

        // ë‘¥ê·¼ ëª¨ì„œë¦¬ íš¨ê³¼
        ctx.globalCompositeOperation = "destination-in";
        ctx.beginPath();
        const radius = size * 0.2;
        ctx.roundRect(0, 0, size, size, radius);
        ctx.fill();
        ctx.globalCompositeOperation = "source-over";

        // ë‹ë³´ê¸° ì•„ì´ì½˜ ê·¸ë¦¬ê¸°
        const centerX = size / 2;
        const centerY = size / 2;
        const circleRadius = size * 0.25;
        const handleLength = size * 0.15;

        ctx.strokeStyle = "white";
        ctx.lineWidth = size * 0.08;
        ctx.lineCap = "round";

        // ì› (ë Œì¦ˆ)
        ctx.beginPath();
        ctx.arc(
          centerX - size * 0.05,
          centerY - size * 0.05,
          circleRadius,
          0,
          Math.PI * 2
        );
        ctx.stroke();

        // ì†ì¡ì´
        ctx.beginPath();
        const handleStartX = centerX + circleRadius * 0.6;
        const handleStartY = centerY + circleRadius * 0.6;
        ctx.moveTo(handleStartX, handleStartY);
        ctx.lineTo(handleStartX + handleLength, handleStartY + handleLength);
        ctx.stroke();

        // ì²´í¬ë§ˆí¬ (ì‘ì€ í¬ê¸°ì—ì„œëŠ” ìƒëµ)
        if (size >= 48) {
          ctx.strokeStyle = "white";
          ctx.lineWidth = size * 0.06;
          const checkSize = size * 0.12;
          const checkX = centerX - size * 0.05 - checkSize * 0.3;
          const checkY = centerY - size * 0.05;

          ctx.beginPath();
          ctx.moveTo(checkX - checkSize * 0.5, checkY);
          ctx.lineTo(checkX - checkSize * 0.1, checkY + checkSize * 0.5);
          ctx.lineTo(checkX + checkSize * 0.6, checkY - checkSize * 0.3);
          ctx.stroke();
        }

        return canvas;
      };

      const downloadIcon = (canvas, size) => {
        canvas.toBlob((blob) => {
          const url = URL.createObjectURL(blob);
          const link = document.createElement("a");
          link.download = `icon${size}.png`;
          link.href = url;
          link.click();
          URL.revokeObjectURL(url);
        });
      };

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ìƒì„±
      window.addEventListener("load", generateAllIcons);
    </script>
  </body>
</html>
